name: "http_spike_task"
steps:
  - name: "orders"
    type: "http"
    count:
      duration: "4s"
      pattern:
        type: "spike"
        baseRate: 2
        spikeRate: 20
        spikeStart: 0.25
        spikeDuration: 0.25
      rateUnit: "1s"
    options:
      format: "http"
    fields:
      - name: "httpUrl"
        type: "struct"
        fields:
          - name: "url"
            static: "http://localhost:80/post"
          - name: "method"
            static: "POST"
      - name: "httpBody"
        type: "struct"
        fields:
          - name: "order_id"
            type: "string"
            options:
              regex: "ORD[0-9]{8}"
          - name: "amount"
            type: "double"
            options:
              min: 10.0
              max: 1000.0

